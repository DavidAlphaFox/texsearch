Architecture
------------

Couchdb is the root process. The preprocessor and index are run as _external services on couchdb. Raw data is stored in the 'documents' db on couchdb. The search index is stored in the file 'data/index'. 

Springer documents are uploaded to the server as xml files. The command 'db.py --add some_doc.xml' extracts latex formulae and metadata from some_doc.xml, runs the latex through the preprocessor and stores the results in couchdb. The command 'index -update' uses the couchdb change log to locate new or modified documents and update the index file. Restarting the index external service causes it to load the new index file.

Requirements
------------

Tested with:

couchdb 0.6.0

ocaml 3.12.0
ancient 0.9.0
json-wheel 1.0.6
json-static 0.9.8
ocamlnet 3.2
pcre-ocaml 6.2.2
xml-light 2.2

python 2.6.6
couchdb 0.6 (python lib)
httplib2 0.5.0
plastex 0.9.2

